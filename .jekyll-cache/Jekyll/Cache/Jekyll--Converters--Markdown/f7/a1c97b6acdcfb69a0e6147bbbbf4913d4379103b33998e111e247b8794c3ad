I"ú<h1 id="regexplastindex-å±æ€§"><code class="highlighter-rouge">RegExp.lastIndex</code> å±æ€§</h1>

<p>é‡åˆ°ä¸€ä¸ª<a href="http://jira.rccchina.com/browse/PG-2081">å”®å</a> ï¼Œ
<code class="highlighter-rouge">Regexp</code> åŒ¹é…æ•°æ®æ—¶ï¼Œæœ‰æ—¶å€™æ•°æ®èƒ½åŒ¹é…å‡ºæ¥ï¼Œæœ‰æ—¶å€™ä¸èƒ½åŒ¹é…å‡ºæ¥</p>

<p>æ€»ç»“äº†ä¸€ä¸‹ <code class="highlighter-rouge">Regexp</code> çš„é—®é¢˜</p>

<ul>
  <li>ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š
```javascript
let reg = new RegExp(â€˜c.*â€™, â€˜gâ€™)</li>
</ul>

<p>reg.test(â€˜chenâ€™) // true
reg.test(â€˜chenâ€™) // false</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
åŒæ ·ä¸¤æ¬¡æ¯”å¯¹ï¼Œç¬¬ä¸€æ¬¡è¿”å› trueï¼Œ ç¬¬äºŒæ¬¡è¿”å› false

- æŸ¥æ‰¾åŸå› 

æŸ¥é˜…èµ„æ–™åå‘ç°ï¼Œæ˜¯æ­£åˆ™çš„ `lastIndex` æ”¹å˜äº†

```js
let reg = new RegExp('c.*', 'g')
console.log(reg.lastIndex) // 0

reg.test('chen') // true
console.log(reg.lastIndex) // 4

reg.test('chen') // false
console.log(reg.lastIndex) // 0
</code></pre></div></div>

<blockquote>
  <p>åªæœ‰æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨äº†è¡¨ç¤ºå…¨å±€æ£€ç´¢çš„ â€œgâ€ æ ‡å¿—æ—¶ï¼Œè¯¥å±æ€§æ‰ä¼šèµ·ä½œç”¨ã€‚æ­¤æ—¶åº”ç”¨ä¸‹é¢çš„è§„åˆ™ï¼š<br />
å¦‚æœ lastIndex å¤§äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™ regexp.test å’Œ regexp.exec å°†ä¼šåŒ¹é…å¤±è´¥ï¼Œç„¶å lastIndex è¢«è®¾ç½®ä¸º 0ã€‚<br />
å¦‚æœ lastIndex ç­‰äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸”è¯¥æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¯¥æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä» lastIndex å¼€å§‹çš„å­—ç¬¦ä¸²ã€‚ï¼ˆthen the regular expression matches input starting at lastIndex.ï¼‰<br />
å¦‚æœ lastIndex ç­‰äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸”è¯¥æ­£åˆ™è¡¨è¾¾å¼ä¸åŒ¹é…ç©ºå­—ç¬¦ä¸² ï¼Œåˆ™è¯¥æ­£åˆ™è¡¨è¾¾å¼ä¸åŒ¹é…å­—ç¬¦ä¸²ï¼ŒlastIndex è¢«è®¾ç½®ä¸º 0.ã€‚<br />
å¦åˆ™ï¼ŒlastIndex è¢«è®¾ç½®ä¸ºç´§éšæœ€è¿‘ä¸€æ¬¡æˆåŠŸåŒ¹é…çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚</p>
</blockquote>
:ET